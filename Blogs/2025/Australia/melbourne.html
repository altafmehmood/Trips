<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Melbourne & Great Ocean Road - Australia Adventure</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <a href="index.html" class="back-link">← Back to Trip Overview</a>

        <h1><span class="gradient-text">Melbourne & Great Ocean Road</span></h1>
        <p class="subtitle">Victoria's Coastal Masterpiece</p>

        <div class="blog-content">
            <!-- Great Ocean Road -->
            <div class="day-section">
                <div class="day-header melbourne-header">
                    <div class="day-title">Day 3-4: Great Ocean Road</div>
                    <div class="day-subtitle">December 8-9 • Australia's Coastal Masterpiece</div>
                </div>
                <div class="day-content">
                    <div class="story-text">
                        <p>After a smooth 90-minute Qantas flight from Sydney to Melbourne (QF419), complete with complimentary snacks and drinks, we picked up our rental car at Melbourne Airport and immediately headed south. Our first stop was the scenic Millionaire Walk, a beautiful coastal path that gave us our first taste of Victoria's stunning shoreline.</p>

                        <p>The next day, we embarked on the iconic Great Ocean Road drive. The Twelve Apostles and Loch Ard Gorge were simply breathtaking - massive limestone stacks rising from the Southern Ocean, sculpted by millions of years of wind and waves. The hidden beach at Loch Ard Gorge, accessible through a natural archway in the cliffs, was a highlight with its turquoise waters and golden sand.</p>

                        <p>We continued through charming coastal towns like Lorne and Aireys Inlet, each offering their own slice of coastal paradise. The Split Point Lighthouse at Aireys Inlet stood sentinel over dramatic clifftops, while the beaches at Anglesea and Lorne beckoned with their pristine beauty.</p>
                    </div>

                    <div class="highlight-box">
                        <strong>Must-See:</strong> Loch Ard Gorge's secluded beach - a stunning natural amphitheater carved into the limestone cliffs with crystal-clear water.
                    </div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-08/Melbourne/001_160209.webp" alt="Melbourne coast">
                            <div class="photo-caption">Our first glimpse of Victoria's dramatic coastline near Melbourne</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/007_163504.webp" alt="Loch Ard Gorge">
                            <div class="photo-caption">The stunning Loch Ard Gorge - a hidden beach surrounded by towering limestone cliffs</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/005_162042.webp" alt="Coastal rock stacks">
                            <div class="photo-caption">Dramatic limestone stacks rising from the Southern Ocean - millions of years of erosion created these masterpieces</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/006_162549.webp" alt="Great Ocean Road cliffs">
                            <div class="photo-caption">The turquoise waters and golden limestone cliffs of the Great Ocean Road</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/002_162048.webp" alt="Natural arch">
                            <div class="photo-caption">Natural limestone formations creating dramatic coastal scenery</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Anglesea/001_105334.webp" alt="Anglesea Beach">
                            <div class="photo-caption">The beautiful beach at Anglesea, perfect for a morning stroll</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Aireys_Inlet/001_111131.webp" alt="Split Point Lighthouse">
                            <div class="photo-caption">The iconic Split Point Lighthouse at Aireys Inlet</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Aireys_Inlet/004_110737.webp" alt="Aireys Inlet coast">
                            <div class="photo-caption">Dramatic clifftop views at Aireys Inlet</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Lorne/001_114927.webp" alt="Lorne Beach">
                            <div class="photo-caption">Lorne's pristine beach framed by native vegetation</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Lorne/003_121518.webp" alt="Lorne coast">
                            <div class="photo-caption">The turquoise waters of Lorne</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Victoria/001_102857.webp" alt="Great Ocean Road">
                            <div class="photo-caption">Driving along the Great Ocean Road</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/001_163504.webp" alt="Port Campbell">
                            <div class="photo-caption">The stunning coastal formations at Port Campbell</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/003_162626.webp" alt="Rock formations">
                            <div class="photo-caption">Ancient limestone formations sculpted by the ocean</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/004_162636.webp" alt="Coastal cliffs">
                            <div class="photo-caption">Dramatic cliffs meeting the Southern Ocean</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Port_Campbell/008_163942.webp" alt="Port Campbell coastline">
                            <div class="photo-caption">The rugged beauty of Victoria's coastline</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Aireys_Inlet/002_111434.webp" alt="Aireys Inlet view">
                            <div class="photo-caption">Panoramic views from Aireys Inlet</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Aireys_Inlet/003_111516.webp" alt="Coastal scenery">
                            <div class="photo-caption">The pristine coastline at Aireys Inlet</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Lorne/002_121256.webp" alt="Lorne coastline">
                            <div class="photo-caption">Beautiful coastal views at Lorne</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Lorne/004_122816.webp" alt="Lorne beach scene">
                            <div class="photo-caption">The inviting beaches of Lorne</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-08/Melbourne/002_161955.webp" alt="Melbourne coast">
                            <div class="photo-caption">Coastal scenery near Melbourne</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-09/Victoria/002_155342.webp" alt="Victoria coastline">
                            <div class="photo-caption">Victoria's spectacular coastal landscape</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <div class="lightbox-counter" id="lightbox-counter"></div>
            <button class="lightbox-nav lightbox-prev" id="lightbox-prev" onclick="navigateLightbox(-1)">&#8249;</button>
            <button class="lightbox-nav lightbox-next" id="lightbox-next" onclick="navigateLightbox(1)">&#8250;</button>

            <div class="lightbox-image-container">
                <img id="lightbox-image" class="lightbox-image" src="" alt="">
            </div>

            <div class="lightbox-info" id="lightbox-info">
                <h3 id="lightbox-title">Photo Details</h3>
                <div id="lightbox-metadata"></div>
            </div>
        </div>
    </div>

    <script>
        // Photo data with metadata paths
        const photoMetadata = {};
        let allPhotos = [];
        let currentPhotoIndex = 0;

        // Build photo list from the page
        function buildPhotoList() {
            const photoCards = document.querySelectorAll('.photo-card');
            allPhotos = Array.from(photoCards).map((card, index) => {
                const img = card.querySelector('img');
                const caption = card.querySelector('.photo-caption');
                return {
                    index: index,
                    src: img.src,
                    alt: img.alt,
                    caption: caption ? caption.textContent : '',
                    element: card
                };
            });
        }

        // Load metadata for a specific photo
        async function loadPhotoMetadata(photoSrc) {
            // Extract the path from the photo src
            const pathMatch = photoSrc.match(/Photos\/([\d-]+)\/([^\/]+)\/([^\/]+\.webp)/);
            if (!pathMatch) return null;

            const [, date, location, filename] = pathMatch;
            const metadataPath = `Photos/${date}/${location}/photo_metadata.json`;

            // Check cache first
            if (photoMetadata[metadataPath]) {
                const metadata = photoMetadata[metadataPath];
                return metadata.find(m => m.OptimizedImages?.WebPImage === filename);
            }

            // Load metadata
            try {
                const response = await fetch(metadataPath);
                if (!response.ok) return null;
                const data = await response.json();
                photoMetadata[metadataPath] = data;
                return data.find(m => m.OptimizedImages?.WebPImage === filename);
            } catch (error) {
                console.error('Error loading metadata:', error);
                return null;
            }
        }

        // Format date and time
        function formatDateTime(dateStr) {
            if (!dateStr) return '';
            const match = dateStr.match(/(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})/);
            if (!match) return dateStr;
            const [, year, month, day, hour, minute] = match;
            const date = new Date(year, month - 1, day, hour, minute);
            return date.toLocaleString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit'
            });
        }

        // Display photo in lightbox
        async function showLightbox(index) {
            currentPhotoIndex = index;
            const photo = allPhotos[index];
            const lightbox = document.getElementById('lightbox');
            const image = document.getElementById('lightbox-image');
            const counter = document.getElementById('lightbox-counter');
            const metadataDiv = document.getElementById('lightbox-metadata');
            const title = document.getElementById('lightbox-title');

            // Show lightbox
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Set image
            image.src = photo.src;
            image.alt = photo.alt;

            // Set counter
            counter.textContent = `${index + 1} / ${allPhotos.length}`;

            // Update navigation buttons
            updateNavButtons();

            // Set title
            title.textContent = photo.caption || 'Photo Details';

            // Load and display metadata
            metadataDiv.innerHTML = '<p style="color: var(--text-muted); font-style: italic;">Loading details...</p>';

            const metadata = await loadPhotoMetadata(photo.src);

            if (metadata) {
                let html = '';

                // Location Section
                if (metadata.City || metadata.State || metadata.DisplayName) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Location</h4>';
                    if (metadata.City) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">City</span>
                            <span class="lightbox-info-value">${metadata.City}</span>
                        </div>`;
                    }
                    if (metadata.State) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">State</span>
                            <span class="lightbox-info-value">${metadata.State}</span>
                        </div>`;
                    }
                    if (metadata.DisplayName) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Place</span>
                            <span class="lightbox-info-value" style="max-width: 200px;">${metadata.DisplayName.split(',').slice(0, 2).join(',')}</span>
                        </div>`;
                    }
                    if (metadata.Latitude && metadata.Longitude) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Coordinates</span>
                            <span class="lightbox-info-value">${metadata.Latitude.toFixed(4)}, ${metadata.Longitude.toFixed(4)}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Date & Time Section
                if (metadata.DateTaken) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Date & Time</h4>';
                    html += `<div class="lightbox-info-item">
                        <span class="lightbox-info-label">Taken</span>
                        <span class="lightbox-info-value">${formatDateTime(metadata.DateTaken)}</span>
                    </div>`;
                    html += '</div>';
                }

                // Camera Section
                if (metadata.CameraMake || metadata.CameraModel) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Camera</h4>';
                    if (metadata.CameraModel) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Model</span>
                            <span class="lightbox-info-value">${metadata.CameraModel}</span>
                        </div>`;
                    }
                    if (metadata.LensModel && !metadata.LensModel.includes(metadata.CameraModel)) {
                        const lensShort = metadata.LensModel.split(' ').slice(-2).join(' ');
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Lens</span>
                            <span class="lightbox-info-value">${lensShort}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Settings Section
                if (metadata.ISO || metadata.ExposureTime || metadata.FNumber || metadata.FocalLength) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Settings</h4>';
                    if (metadata.FocalLength) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Focal Length</span>
                            <span class="lightbox-info-value">${metadata.FocalLength}</span>
                        </div>`;
                    }
                    if (metadata.FNumber) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Aperture</span>
                            <span class="lightbox-info-value">${metadata.FNumber}</span>
                        </div>`;
                    }
                    if (metadata.ExposureTime) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Shutter</span>
                            <span class="lightbox-info-value">${metadata.ExposureTime}</span>
                        </div>`;
                    }
                    if (metadata.ISO) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">ISO</span>
                            <span class="lightbox-info-value">${metadata.ISO}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                metadataDiv.innerHTML = html;
            } else {
                metadataDiv.innerHTML = `
                    <div class="lightbox-info-section">
                        <p style="color: var(--text-muted); font-style: italic;">
                            ${photo.caption}
                        </p>
                    </div>
                `;
            }
        }

        // Close lightbox
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Navigate between photos
        function navigateLightbox(direction) {
            const newIndex = currentPhotoIndex + direction;
            if (newIndex >= 0 && newIndex < allPhotos.length) {
                showLightbox(newIndex);
            }
        }

        // Update navigation button states
        function updateNavButtons() {
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');

            if (currentPhotoIndex === 0) {
                prevBtn.classList.add('disabled');
            } else {
                prevBtn.classList.remove('disabled');
            }

            if (currentPhotoIndex === allPhotos.length - 1) {
                nextBtn.classList.add('disabled');
            } else {
                nextBtn.classList.remove('disabled');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            buildPhotoList();

            // Add click handlers to all photo cards
            allPhotos.forEach((photo, index) => {
                photo.element.addEventListener('click', () => showLightbox(index));
            });

            // Close lightbox when clicking outside
            document.getElementById('lightbox').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                const lightbox = document.getElementById('lightbox');
                if (!lightbox.classList.contains('active')) return;

                switch(e.key) {
                    case 'Escape':
                        closeLightbox();
                        break;
                    case 'ArrowLeft':
                        if (currentPhotoIndex > 0) navigateLightbox(-1);
                        break;
                    case 'ArrowRight':
                        if (currentPhotoIndex < allPhotos.length - 1) navigateLightbox(1);
                        break;
                }
            });
        });
    </script>
</body>

</html>
