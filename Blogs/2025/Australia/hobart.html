<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hobart & Mount Wellington - Tasmania Adventure</title>
    <link rel="stylesheet" href="../../../styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body>
    <div class="container">
        <a href="tasmania.html" class="back-link">‚Üê Back to Tasmania Overview</a>

        <h1><span class="gradient-text">Hobart & Mount Wellington</span></h1>
        <p class="subtitle">Mount Wellington Summit, Opossum Bay & Waterfront Dining</p>

        <div class="blog-content">
            <!-- Hobart and Vicinity -->
            <div class="day-section">
                <div class="day-header tasmania-header">
                    <div class="day-title">Day 5: Hobart and Vicinity</div>
                    <div class="day-subtitle">December 10 ‚Ä¢ Mount Wellington, Opossum Bay & Waterfront Dining</div>
                </div>
                <div class="day-content">
                    <div class="story-text">
                        <p>Flying into Tasmania from Melbourne on Qantas flight QF1293 felt like entering another world. The quick 54-minute flight on the modern Airbus A220-200 offered stunning aerial views as we descended into Hobart. Security at Melbourne Airport was efficient as always, and we landed in Hobart ready for Tasmania's wilderness adventures.</p>
                    </div>

                    <div id="hobart-day-map" style="height: 400px; margin: 2rem 0; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-lg);"></div>

                    <h3 style="font-family: 'Poppins', sans-serif; color: var(--primary); margin: 2rem 0 1rem 0;">Mount Wellington - Summit Views Over Hobart</h3>

                    <div class="story-text">
                        <p>We immediately drove from Hobart Airport to <a href="https://www.wellingtonpark.org.au/" target="_blank" rel="noopener noreferrer" style="color: var(--primary); text-decoration: none; font-weight: 600;">Mount Wellington (kunanyi)</a>, which towers 1,271 meters above Hobart. The winding 21-kilometer drive from sea level to the summit takes you through multiple climate zones - from temperate eucalyptus forests to sub-alpine vegetation and finally to the rocky, windswept summit.</p>

                        <p>The panoramic views from the Pinnacle Observation Shelter were absolutely spectacular. Hobart sprawled below us, the Derwent River snaking through the landscape, and on the clearest days you can see all the way to Bruny Island. The mountain's dolerite columns, formed by ancient volcanic activity, create dramatic rock formations at the summit. The temperature dropped significantly as we ascended, a stark reminder of Tasmania's changeable weather - layers are essential!</p>

                        <p>Mount Wellington holds deep cultural significance for the Muwinina people, who call it kunanyi. The mountain has been a landmark for navigation, a source of fresh water, and a spiritual site for thousands of years.</p>
                    </div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-10/Tasmania/e638969591b31b74.webp" alt="Mount Wellington">
                            <div class="photo-caption">Panoramic views from Mount Wellington's summit overlooking Hobart</div>
                        </div>
                    </div>

                    <h3 style="font-family: 'Poppins', sans-serif; color: var(--primary); margin: 2rem 0 1rem 0;">Opossum Bay - Coastal Serenity</h3>

                    <div class="story-text">
                        <p>After Mount Wellington, we drove to <a href="https://www.discovertasmania.com.au/about/towns-regions/south/hobart/opossum-bay" target="_blank" rel="noopener noreferrer" style="color: var(--primary); text-decoration: none; font-weight: 600;">Opossum Bay</a>, a peaceful coastal suburb southeast of Hobart. This quiet seaside spot offered beautiful views across the D'Entrecasteaux Channel and a chance to relax after our mountain adventure.</p>
                    </div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-10/Opossum_Bay/6093d61adb9aae4e.webp" alt="Opossum Bay">
                            <div class="photo-caption">Serene coastal views at Opossum Bay</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-10/Opossum_Bay/8797d048487d6aba.webp" alt="Opossum Bay coastline">
                            <div class="photo-caption">The peaceful coastline of Opossum Bay</div>
                        </div>
                    </div>

                    <h3 style="font-family: 'Poppins', sans-serif; color: var(--primary); margin: 2rem 0 1rem 0;">Evening in Hobart - Waterfront Dining</h3>

                    <div class="story-text">
                        <p>We checked into the <a href="https://www.grandchancellorhotels.com/hotel-grand-chancellor-hobart" target="_blank" rel="noopener noreferrer" style="color: var(--primary); text-decoration: none; font-weight: 600;">Hotel Grand Chancellor Hobart</a>, perfectly located on the waterfront with stunning views across the harbor. The hotel's central location made it easy to explore Hobart's attractions on foot.</p>

                        <p>For dinner, we walked to <a href="https://www.mures.com.au/upper-deck" target="_blank" rel="noopener noreferrer" style="color: var(--primary); text-decoration: none; font-weight: 600;">Mures Upper Deck</a>, one of Hobart's premier seafood restaurants right on the waterfront. The restaurant specializes in fresh Tasmanian seafood, and we enjoyed a delicious meal while watching the sunset paint the sky in brilliant colors over the harbor.</p>
                    </div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-10/Hobart/1c43d254ecd901a8.webp" alt="Hobart evening">
                            <div class="photo-caption">Evening atmosphere in Hobart</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-10/Hobart/d3285bc4aa2fc76d.webp" alt="Hobart waterfront">
                            <div class="photo-caption">Hobart's beautiful waterfront at sunset</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div style="margin-top: 3rem; padding-top: 2rem; border-top: 2px solid var(--gray-200); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
            <a href="tasmania.html" class="back-link">‚Üê Back to Tasmania Overview</a>
            <a href="westcoast.html" class="back-link" style="margin-left: auto;">Next: West Coast Wilderness ‚Üí</a>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <div class="lightbox-counter" id="lightbox-counter"></div>
            <button class="lightbox-nav lightbox-prev" id="lightbox-prev" onclick="navigateLightbox(-1)">&#8249;</button>
            <button class="lightbox-nav lightbox-next" id="lightbox-next" onclick="navigateLightbox(1)">&#8250;</button>

            <div class="lightbox-image-container">
                <img id="lightbox-image" class="lightbox-image" src="" alt="">
            </div>

            <div class="lightbox-info" id="lightbox-info">
                <h3 id="lightbox-title">Photo Details</h3>
                <div id="lightbox-metadata"></div>
            </div>
        </div>
    </div>

    <script>
        // Photo data with metadata paths
        const photoMetadata = {};
        let allPhotos = [];
        let currentPhotoIndex = 0;

        // Build photo list from the page
        function buildPhotoList() {
            const photoCards = document.querySelectorAll('.photo-card');
            allPhotos = Array.from(photoCards).map((card, index) => {
                const img = card.querySelector('img');
                const caption = card.querySelector('.photo-caption');
                return {
                    index: index,
                    src: img.src,
                    alt: img.alt,
                    caption: caption ? caption.textContent : '',
                    element: card
                };
            });
        }

        // Load metadata for a specific photo
        async function loadPhotoMetadata(photoSrc) {
            // Extract the path from the photo src
            const pathMatch = photoSrc.match(/Photos\/([\d-]+)\/([^\/]+)\/([^\/]+\.webp)/);
            if (!pathMatch) return null;

            const [, date, location, filename] = pathMatch;
            const metadataPath = `Photos/${date}/${location}/photo_metadata.json`;

            // Check cache first
            if (photoMetadata[metadataPath]) {
                const metadata = photoMetadata[metadataPath];
                return metadata.find(m => m.OptimizedImages?.WebPImage === filename);
            }

            // Load metadata
            try {
                const response = await fetch(metadataPath);
                if (!response.ok) return null;
                const data = await response.json();
                photoMetadata[metadataPath] = data;
                return data.find(m => m.OptimizedImages?.WebPImage === filename);
            } catch (error) {
                console.error('Error loading metadata:', error);
                return null;
            }
        }

        // Format date and time
        function formatDateTime(dateStr) {
            if (!dateStr) return '';
            const match = dateStr.match(/(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})/);
            if (!match) return dateStr;
            const [, year, month, day, hour, minute] = match;
            const date = new Date(year, month - 1, day, hour, minute);
            return date.toLocaleString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit'
            });
        }

        // Display photo in lightbox
        async function showLightbox(index) {
            currentPhotoIndex = index;
            const photo = allPhotos[index];
            const lightbox = document.getElementById('lightbox');
            const image = document.getElementById('lightbox-image');
            const counter = document.getElementById('lightbox-counter');
            const metadataDiv = document.getElementById('lightbox-metadata');
            const title = document.getElementById('lightbox-title');

            // Show lightbox
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Set image
            image.src = photo.src;
            image.alt = photo.alt;

            // Check if image needs rotation
            const rotation = photo.element.querySelector('img').getAttribute('data-rotation');
            if (rotation) {
                image.style.transform = `rotate(${rotation}deg)`;
                image.style.maxHeight = '80vh';
                image.style.maxWidth = 'none';
                image.style.width = 'auto';
            } else {
                image.style.transform = '';
                image.style.maxHeight = '';
                image.style.maxWidth = '';
                image.style.width = '';
            }

            // Set counter
            counter.textContent = `${index + 1} / ${allPhotos.length}`;

            // Update navigation buttons
            updateNavButtons();

            // Set title
            title.textContent = photo.caption || 'Photo Details';

            // Load and display metadata
            metadataDiv.innerHTML = '<p style="color: var(--text-muted); font-style: italic;">Loading details...</p>';

            const metadata = await loadPhotoMetadata(photo.src);

            if (metadata) {
                let html = '';

                // Location Section
                if (metadata.City || metadata.State || metadata.DisplayName) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Location</h4>';
                    if (metadata.City) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">City</span>
                            <span class="lightbox-info-value">${metadata.City}</span>
                        </div>`;
                    }
                    if (metadata.State) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">State</span>
                            <span class="lightbox-info-value">${metadata.State}</span>
                        </div>`;
                    }
                    if (metadata.DisplayName) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Place</span>
                            <span class="lightbox-info-value" style="max-width: 200px;">${metadata.DisplayName.split(',').slice(0, 2).join(',')}</span>
                        </div>`;
                    }
                    if (metadata.Latitude && metadata.Longitude) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Coordinates</span>
                            <span class="lightbox-info-value">${metadata.Latitude.toFixed(4)}, ${metadata.Longitude.toFixed(4)}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Date & Time Section
                if (metadata.DateTaken) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Date & Time</h4>';
                    html += `<div class="lightbox-info-item">
                        <span class="lightbox-info-label">Taken</span>
                        <span class="lightbox-info-value">${formatDateTime(metadata.DateTaken)}</span>
                    </div>`;
                    html += '</div>';
                }

                // Camera Section
                if (metadata.CameraMake || metadata.CameraModel) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Camera</h4>';
                    if (metadata.CameraModel) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Model</span>
                            <span class="lightbox-info-value">${metadata.CameraModel}</span>
                        </div>`;
                    }
                    if (metadata.LensModel && !metadata.LensModel.includes(metadata.CameraModel)) {
                        const lensShort = metadata.LensModel.split(' ').slice(-2).join(' ');
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Lens</span>
                            <span class="lightbox-info-value">${lensShort}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Settings Section
                if (metadata.ISO || metadata.ExposureTime || metadata.FNumber || metadata.FocalLength) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Settings</h4>';
                    if (metadata.FocalLength) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Focal Length</span>
                            <span class="lightbox-info-value">${metadata.FocalLength}</span>
                        </div>`;
                    }
                    if (metadata.FNumber) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Aperture</span>
                            <span class="lightbox-info-value">${metadata.FNumber}</span>
                        </div>`;
                    }
                    if (metadata.ExposureTime) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Shutter</span>
                            <span class="lightbox-info-value">${metadata.ExposureTime}</span>
                        </div>`;
                    }
                    if (metadata.ISO) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">ISO</span>
                            <span class="lightbox-info-value">${metadata.ISO}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                metadataDiv.innerHTML = html;
            } else {
                metadataDiv.innerHTML = `
                    <div class="lightbox-info-section">
                        <p style="color: var(--text-muted); font-style: italic;">
                            ${photo.caption}
                        </p>
                    </div>
                `;
            }
        }

        // Close lightbox
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Navigate between photos
        function navigateLightbox(direction) {
            const newIndex = currentPhotoIndex + direction;
            if (newIndex >= 0 && newIndex < allPhotos.length) {
                showLightbox(newIndex);
            }
        }

        // Update navigation button states
        function updateNavButtons() {
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');

            if (currentPhotoIndex === 0) {
                prevBtn.classList.add('disabled');
            } else {
                prevBtn.classList.remove('disabled');
            }

            if (currentPhotoIndex === allPhotos.length - 1) {
                nextBtn.classList.add('disabled');
            } else {
                nextBtn.classList.remove('disabled');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Hobart Day 5 activities map
            const hobartDayMap = L.map('hobart-day-map', {
                zoomControl: true,
                scrollWheelZoom: false
            }).setView([-42.93, 147.34], 11);

            L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
                subdomains: 'abcd',
                maxZoom: 20
            }).addTo(hobartDayMap);

            const hobartDayPoints = [
                { lat: -42.8821, lng: 147.3272, name: 'Hobart Airport', emoji: '‚úàÔ∏è', desc: 'Arrival in Tasmania' },
                { lat: -42.8956, lng: 147.2378, name: 'Mount Wellington', emoji: '‚õ∞Ô∏è', desc: 'Pinnacle Observation Shelter - 1,271m summit views' },
                { lat: -42.9833, lng: 147.4833, name: 'Opossum Bay', emoji: 'üåä', desc: 'Peaceful coastal serenity' },
                { lat: -42.8826, lng: 147.3257, name: 'Hotel Grand Chancellor', emoji: 'üè®', desc: 'Waterfront accommodation' },
                { lat: -42.8826, lng: 147.3310, name: 'Mures Upper Deck', emoji: 'üçΩÔ∏è', desc: 'Fresh Tasmanian seafood' }
            ];

            hobartDayPoints.forEach((point) => {
                const marker = L.marker([point.lat, point.lng], {
                    icon: L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">${point.emoji}</div>`,
                        iconSize: [30, 30],
                        iconAnchor: [15, 15]
                    })
                }).addTo(hobartDayMap);

                marker.bindPopup(`
                    <div style="font-family: 'Poppins', sans-serif; min-width: 150px;">
                        <strong style="color: #10b981; font-size: 1.1em;">${point.emoji} ${point.name}</strong>
                        <br>
                        <span style="color: #64748b; font-size: 0.9em;">${point.desc}</span>
                    </div>
                `);
            });

            buildPhotoList();

            // Add click handlers to all photo cards
            allPhotos.forEach((photo, index) => {
                photo.element.addEventListener('click', () => showLightbox(index));
            });

            // Close lightbox when clicking outside
            document.getElementById('lightbox').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                const lightbox = document.getElementById('lightbox');
                if (!lightbox.classList.contains('active')) return;

                switch(e.key) {
                    case 'Escape':
                        closeLightbox();
                        break;
                    case 'ArrowLeft':
                        if (currentPhotoIndex > 0) navigateLightbox(-1);
                        break;
                    case 'ArrowRight':
                        if (currentPhotoIndex < allPhotos.length - 1) navigateLightbox(1);
                        break;
                }
            });
        });
    </script>
</body>

</html>
