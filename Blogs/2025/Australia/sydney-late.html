<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sydney - December 14-16 - Australia Adventure</title>
    <link rel="stylesheet" href="../../../styles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body>
    <div class="container">
        <a href="index.html" class="back-link">‚Üê Back to Trip Overview</a>

        <h1><span class="gradient-text">Sydney</span></h1>
        <p class="subtitle">December 14-16 ‚Ä¢ Return & An Unexpected Bonus Day</p>

        <div class="blog-content">
            <!-- December 14 -->
            <div class="day-section">
                <div class="day-header sydney-header">
                    <div class="day-title">Day 10: Return to Sydney</div>
                    <div class="day-subtitle">December 14, 2025 ‚Ä¢ Arrival & Darling Harbour</div>
                </div>
                <div class="day-content">
                    <div class="story-text">
                        <p>After an early departure from Freycinet, we drove back to Hobart for our flight to Sydney. The Qantas QF996 flight departed Hobart at 4:53 PM and arrived in Sydney at 6:32 PM - actually 13 minutes early. Security at Hobart Airport was the smoothest of the trip, and the Boeing 737-800 was comfortable for the 100-minute journey.</p>

                        <p>Landing at Sydney Airport, we took the Airport Link train to Museum station in the heart of the city. From there, it was a pleasant walk through Sydney's bustling streets to the Kimpton Margot Sydney, our hotel for the evening. The boutique property, located in the historic Pitt Street precinct, offered a perfect base for exploring the city one last time.</p>
                    </div>

                    <h3 style="font-family: 'Poppins', sans-serif; color: var(--primary); margin: 2rem 0 1rem 0;">Evening at Darling Harbour</h3>

                    <div class="story-text">
                        <p>After refreshing at the hotel, we ventured out for an evening stroll to Darling Harbour. The waterfront precinct, transformed from industrial wharves into a vibrant entertainment hub, came alive as twilight descended on the city. Our walk took us across the historic Pyrmont Bridge, a heritage swing bridge dating from 1902 that connects the eastern and western sides of Darling Harbour. Standing on the bridge's pedestrian walkway, we watched the city lights begin to twinkle across the water, the modern skyline reflecting off the calm harbour waters.</p>

                        <p>The evening air was warm and inviting as we explored Darling Harbour's waterfront promenade. Restaurants and cafes buzzed with diners enjoying outdoor seating, while the illuminated buildings cast colorful reflections across the marina. The pedestrian-friendly waterfront stretches around the harbour's edge, offering a delightful walk with city lights reflecting off the calm waters. We strolled past the Chinese Garden of Friendship, the SEA LIFE Sydney Aquarium, and WILD LIFE Sydney Zoo, all housed in striking waterfront buildings.</p>

                        <p>The Sydney Opera House and Harbour Bridge, visible in the distance and illuminated against the night sky, provided a perfect backdrop to our evening walk. Walking through these iconic harbourside locations at sunset, watching the ferries crisscross the water and the city lights begin to glow, we couldn't help but feel grateful for this incredible journey.</p>
                    </div>

                    <div id="kimpton-darling-map" style="height: 400px; margin: 2rem 0; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-lg);"></div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/c281456157dd8ddf.webp" alt="Darling Harbour Marina">
                            <div class="photo-caption">Darling Harbour Marina - Waterfront promenade at twilight</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/1a97bc00b8b95e5f.webp" alt="Sydney waterfront night">
                            <div class="photo-caption">The waterfront illuminated as night falls</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/1503ada9cd5edbed.webp" alt="Evening cityscape">
                            <div class="photo-caption">City lights reflecting across the harbour</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- December 15 -->
            <div class="day-section">
                <div class="day-header sydney-header">
                    <div class="day-title">Day 11: Bonus Day in Sydney</div>
                    <div class="day-subtitle">December 15, 2025 ‚Ä¢ An Unexpected Gift</div>
                </div>
                <div class="day-content">
                    <div class="highlight-box" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <strong>Flight Cancellation:</strong> Our United flight UA100 scheduled for December 15th was cancelled when the incoming aircraft from Houston went technical and had to turn back mid-flight. We were rescheduled to depart on December 16th, giving us an unexpected bonus day in Sydney!
                    </div>

                    <div class="story-text">
                        <p>What could have been a frustrating travel disruption turned into a delightful extra day to explore Sydney. We checked into the Sofitel Sydney Darling Harbour, enjoying the hotel's modern luxury and waterfront location.</p>
                    </div>

                    <h3 style="font-family: 'Poppins', sans-serif; color: var(--primary); margin: 2rem 0 1rem 0;">Taronga Zoo Adventure</h3>

                    <div class="story-text">
                        <p>From Darling Harbour, we caught a ferry to Circular Quay, then continued on to Taronga Zoo, perched on the harbour's northern shore with spectacular views back to the city skyline. The ferry ride itself was a highlight, offering stunning perspectives of the Opera House and Harbour Bridge from the water as we crossed the harbour.</p>

                        <p>Taronga Zoo is uniquely positioned on a hillside overlooking Sydney Harbour, providing breathtaking panoramic views of the city skyline, Opera House, and Harbour Bridge from throughout the zoo grounds. The zoo's collection of Australian wildlife - from koalas and kangaroos to Tasmanian devils - provided one last encounter with the continent's unique fauna. Walking through the exhibits with the iconic Sydney backdrop made for an unforgettable wildlife experience.</p>
                    </div>

                    <div id="taronga-zoo-map" style="height: 400px; margin: 2rem 0; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-lg);"></div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/0b6775fe32a5afa0.webp" alt="Taronga Zoo">
                            <div class="photo-caption">Wildlife encounters at Taronga Zoo</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/6ebba7265cf8a9c6.webp" alt="Zoo visit">
                            <div class="photo-caption">Exploring Taronga Zoo with harbour backdrop</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/dccbdccb7a9c67f6.webp" alt="Sydney wildlife">
                            <div class="photo-caption">A wallaby at Taronga Zoo - one last wildlife encounter</div>
                        </div>
                    </div>

                    <h3 style="font-family: 'Poppins', sans-serif; color: var(--primary); margin: 2rem 0 1rem 0;">Harbour Foreshore Walk</h3>

                    <div class="story-text">
                        <p>After the zoo, we took the scenic route back, walking along the harbour foreshore from Circular Quay all the way to Darling Harbour. The waterfront promenade offered constantly changing views of the harbour, passing historic wharves, modern developments, and the iconic Sydney skyline. The walk ended back at Darling Harbour, where we had time to fully explore this vibrant waterfront precinct.</p>

                        <p>Darling Harbour is one of Sydney's most vibrant waterfront precincts. Just a short walk from the Rocks and Circular Quay, it transformed from a working harbor into a bustling entertainment and leisure destination in the 1980s. The pedestrian-friendly waterfront promenade offers delightful walks with city lights reflecting off calm waters, modern restaurants and bars buzzing with energy, and the precinct beautifully illuminated at night with dramatic architectural lighting highlighting contemporary buildings.</p>
                    </div>

                    <div id="circular-quay-darling-map" style="height: 400px; margin: 2rem 0; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-lg);"></div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/412e2a6fcd23f37a.webp" alt="Harbour ferry">
                            <div class="photo-caption">Ferry ride across Sydney Harbour</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/5f78052a48338feb.webp" alt="Harbour views">
                            <div class="photo-caption">Spectacular harbour perspectives</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/8c4e9ce2a1b8f1f3.webp" alt="Sydney afternoon">
                            <div class="photo-caption">Afternoon views across the harbour</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/a75ec583540ed973.webp" alt="Harbour walk">
                            <div class="photo-caption">Walking along the harbour foreshore</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/d691c37291c7ba3e.webp" alt="Darling Harbour">
                            <div class="photo-caption">Darling Harbour waterfront precinct</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/f5448da9a369523b.webp" alt="Final Sydney moments">
                            <div class="photo-caption">Savoring our final moments in Sydney</div>
                        </div>
                    </div>

                    <div class="story-text">
                        <p><strong>Departure Day - December 16th:</strong> The next morning, we headed to the airport and relaxed in the Priority Pass lounge before our rescheduled flight. United flight UA100 finally departed at 11:46 AM, and thanks to the time zone magic, we landed in Houston at 10:25 AM the same day - right on schedule after 15 hours and 39 minutes in the air. While the delay added a day to our journey, it gave us unexpected extra time in one of the world's most beautiful cities.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <div class="lightbox-counter" id="lightbox-counter"></div>
            <button class="lightbox-nav lightbox-prev" id="lightbox-prev" onclick="navigateLightbox(-1)">&#8249;</button>
            <button class="lightbox-nav lightbox-next" id="lightbox-next" onclick="navigateLightbox(1)">&#8250;</button>

            <div class="lightbox-image-container">
                <img id="lightbox-image" class="lightbox-image" src="" alt="">
            </div>

            <div class="lightbox-info" id="lightbox-info">
                <h3 id="lightbox-title">Photo Details</h3>
                <div id="lightbox-metadata"></div>
            </div>
        </div>
    </div>

    <script>
        // Photo data with metadata paths
        const photoMetadata = {};
        let allPhotos = [];
        let currentPhotoIndex = 0;

        // Build photo list from the page
        function buildPhotoList() {
            const photoCards = document.querySelectorAll('.photo-card');
            allPhotos = Array.from(photoCards).map((card, index) => {
                const img = card.querySelector('img');
                const caption = card.querySelector('.photo-caption');
                return {
                    index: index,
                    src: img.src,
                    alt: img.alt,
                    caption: caption ? caption.textContent : '',
                    element: card
                };
            });
        }

        // Load metadata for a specific photo
        async function loadPhotoMetadata(photoSrc) {
            // Extract the path from the photo src
            const pathMatch = photoSrc.match(/Photos\/([\d-]+)\/([^\/]+)\/([^\/]+\.webp)/);
            if (!pathMatch) return null;

            const [, date, location, filename] = pathMatch;
            const metadataPath = `Photos/${date}/${location}/photo_metadata.json`;

            // Check cache first
            if (photoMetadata[metadataPath]) {
                const metadata = photoMetadata[metadataPath];
                return metadata.find(m => m.OptimizedImages?.WebPImage === filename);
            }

            // Load metadata
            try {
                const response = await fetch(metadataPath);
                if (!response.ok) return null;
                const data = await response.json();
                photoMetadata[metadataPath] = data;
                return data.find(m => m.OptimizedImages?.WebPImage === filename);
            } catch (error) {
                console.error('Error loading metadata:', error);
                return null;
            }
        }

        // Format date and time
        function formatDateTime(dateStr) {
            if (!dateStr) return '';
            const match = dateStr.match(/(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})/);
            if (!match) return dateStr;
            const [, year, month, day, hour, minute] = match;
            const date = new Date(year, month - 1, day, hour, minute);
            return date.toLocaleString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit'
            });
        }

        // Display photo in lightbox
        async function showLightbox(index) {
            currentPhotoIndex = index;
            const photo = allPhotos[index];
            const lightbox = document.getElementById('lightbox');
            const image = document.getElementById('lightbox-image');
            const counter = document.getElementById('lightbox-counter');
            const metadataDiv = document.getElementById('lightbox-metadata');
            const title = document.getElementById('lightbox-title');

            // Show lightbox
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Set image
            image.src = photo.src;
            image.alt = photo.alt;

            // Set counter
            counter.textContent = `${index + 1} / ${allPhotos.length}`;

            // Update navigation buttons
            updateNavButtons();

            // Set title
            title.textContent = photo.caption || 'Photo Details';

            // Load and display metadata
            metadataDiv.innerHTML = '<p style="color: var(--text-muted); font-style: italic;">Loading details...</p>';

            const metadata = await loadPhotoMetadata(photo.src);

            if (metadata) {
                let html = '';

                // Location Section
                if (metadata.City || metadata.State || metadata.DisplayName) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Location</h4>';
                    if (metadata.City) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">City</span>
                            <span class="lightbox-info-value">${metadata.City}</span>
                        </div>`;
                    }
                    if (metadata.State) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">State</span>
                            <span class="lightbox-info-value">${metadata.State}</span>
                        </div>`;
                    }
                    if (metadata.DisplayName) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Place</span>
                            <span class="lightbox-info-value" style="max-width: 200px;">${metadata.DisplayName.split(',').slice(0, 2).join(',')}</span>
                        </div>`;
                    }
                    if (metadata.Latitude && metadata.Longitude) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Coordinates</span>
                            <span class="lightbox-info-value">${metadata.Latitude.toFixed(4)}, ${metadata.Longitude.toFixed(4)}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Date & Time Section
                if (metadata.DateTaken) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Date & Time</h4>';
                    html += `<div class="lightbox-info-item">
                        <span class="lightbox-info-label">Taken</span>
                        <span class="lightbox-info-value">${formatDateTime(metadata.DateTaken)}</span>
                    </div>`;
                    html += '</div>';
                }

                // Camera Section
                if (metadata.CameraMake || metadata.CameraModel) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Camera</h4>';
                    if (metadata.CameraModel) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Model</span>
                            <span class="lightbox-info-value">${metadata.CameraModel}</span>
                        </div>`;
                    }
                    if (metadata.LensModel && !metadata.LensModel.includes(metadata.CameraModel)) {
                        const lensShort = metadata.LensModel.split(' ').slice(-2).join(' ');
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Lens</span>
                            <span class="lightbox-info-value">${lensShort}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Settings Section
                if (metadata.ISO || metadata.ExposureTime || metadata.FNumber || metadata.FocalLength) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Settings</h4>';
                    if (metadata.FocalLength) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Focal Length</span>
                            <span class="lightbox-info-value">${metadata.FocalLength}</span>
                        </div>`;
                    }
                    if (metadata.FNumber) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Aperture</span>
                            <span class="lightbox-info-value">${metadata.FNumber}</span>
                        </div>`;
                    }
                    if (metadata.ExposureTime) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Shutter</span>
                            <span class="lightbox-info-value">${metadata.ExposureTime}</span>
                        </div>`;
                    }
                    if (metadata.ISO) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">ISO</span>
                            <span class="lightbox-info-value">${metadata.ISO}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                metadataDiv.innerHTML = html;
            } else {
                metadataDiv.innerHTML = `
                    <div class="lightbox-info-section">
                        <p style="color: var(--text-muted); font-style: italic;">
                            ${photo.caption}
                        </p>
                    </div>
                `;
            }
        }

        // Close lightbox
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Navigate between photos
        function navigateLightbox(direction) {
            const newIndex = currentPhotoIndex + direction;
            if (newIndex >= 0 && newIndex < allPhotos.length) {
                showLightbox(newIndex);
            }
        }

        // Update navigation button states
        function updateNavButtons() {
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');

            if (currentPhotoIndex === 0) {
                prevBtn.classList.add('disabled');
            } else {
                prevBtn.classList.remove('disabled');
            }

            if (currentPhotoIndex === allPhotos.length - 1) {
                nextBtn.classList.add('disabled');
            } else {
                nextBtn.classList.remove('disabled');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Kimpton to Darling Harbour map
            const kimptonMap = L.map('kimpton-darling-map', {
                zoomControl: true,
                scrollWheelZoom: true
            }).setView([-33.8730, 151.2070], 15);

            L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
                subdomains: 'abcd',
                maxZoom: 20
            }).addTo(kimptonMap);

            // Museum station, Kimpton, Pyrmont Bridge, Darling Harbour points
            const kimptonPoints = [
                { lat: -33.8738, lng: 151.2103, name: 'Museum Station', emoji: 'üöá', desc: 'Airport Link train arrival' },
                { lat: -33.8722, lng: 151.2071, name: 'Kimpton Margot Sydney', emoji: 'üè®', desc: 'Boutique hotel in Pitt Street precinct' },
                { lat: -33.8708, lng: 151.2018, name: 'Pyrmont Bridge', emoji: 'üåâ', desc: 'Historic 1902 swing bridge' },
                { lat: -33.8711, lng: 151.2012, name: 'Darling Harbour Marina', emoji: '‚öì', desc: 'Waterfront entertainment precinct' }
            ];

            kimptonPoints.forEach((point) => {
                const marker = L.marker([point.lat, point.lng], {
                    icon: L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">${point.emoji}</div>`,
                        iconSize: [30, 30],
                        iconAnchor: [15, 15]
                    })
                }).addTo(kimptonMap);

                marker.bindPopup(`
                    <div style="font-family: 'Poppins', sans-serif; min-width: 150px;">
                        <strong style="color: #06b6d4; font-size: 1.1em;">${point.emoji} ${point.name}</strong>
                        <br>
                        <span style="color: #64748b; font-size: 0.9em;">${point.desc}</span>
                    </div>
                `);
            });

            // Initialize Taronga Zoo map
            const tarongaMap = L.map('taronga-zoo-map', {
                zoomControl: true,
                scrollWheelZoom: true
            }).setView([-33.8434, 151.2414], 13);

            L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
                subdomains: 'abcd',
                maxZoom: 20
            }).addTo(tarongaMap);

            // Taronga Zoo points
            const tarongaPoints = [
                { lat: -33.8688, lng: 151.1988, name: 'Darling Harbour', emoji: 'üè®', desc: 'Sofitel Sydney starting point' },
                { lat: -33.8611, lng: 151.2111, name: 'Circular Quay', emoji: '‚õ¥Ô∏è', desc: 'Ferry terminal' },
                { lat: -33.8434, lng: 151.2414, name: 'Taronga Zoo', emoji: 'ü¶ò', desc: 'Sydney Zoo with harbour views' }
            ];

            tarongaPoints.forEach((point) => {
                const marker = L.marker([point.lat, point.lng], {
                    icon: L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">${point.emoji}</div>`,
                        iconSize: [30, 30],
                        iconAnchor: [15, 15]
                    })
                }).addTo(tarongaMap);

                marker.bindPopup(`
                    <div style="font-family: 'Poppins', sans-serif; min-width: 150px;">
                        <strong style="color: #06b6d4; font-size: 1.1em;">${point.emoji} ${point.name}</strong>
                        <br>
                        <span style="color: #64748b; font-size: 0.9em;">${point.desc}</span>
                    </div>
                `);
            });

            // Initialize Circular Quay and Darling Harbour map
            const darlingMap = L.map('circular-quay-darling-map', {
                zoomControl: true,
                scrollWheelZoom: true
            }).setView([-33.8688, 151.2006], 14);

            L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
                subdomains: 'abcd',
                maxZoom: 20
            }).addTo(darlingMap);

            // Circular Quay and Darling Harbour points
            const darlingPoints = [
                { lat: -33.8611, lng: 151.2111, name: 'Circular Quay', emoji: '‚õ¥Ô∏è', desc: 'Ferry terminal and harbour hub' },
                { lat: -33.8688, lng: 151.1988, name: 'Darling Harbour', emoji: 'üåÉ', desc: 'Waterfront entertainment precinct' }
            ];

            darlingPoints.forEach((point) => {
                const marker = L.marker([point.lat, point.lng], {
                    icon: L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="font-size: 24px; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">${point.emoji}</div>`,
                        iconSize: [30, 30],
                        iconAnchor: [15, 15]
                    })
                }).addTo(darlingMap);

                marker.bindPopup(`
                    <div style="font-family: 'Poppins', sans-serif; min-width: 150px;">
                        <strong style="color: #06b6d4; font-size: 1.1em;">${point.emoji} ${point.name}</strong>
                        <br>
                        <span style="color: #64748b; font-size: 0.9em;">${point.desc}</span>
                    </div>
                `);
            });

            buildPhotoList();

            // Add click handlers to all photo cards
            allPhotos.forEach((photo, index) => {
                photo.element.addEventListener('click', () => showLightbox(index));
            });

            // Close lightbox when clicking outside
            document.getElementById('lightbox').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                const lightbox = document.getElementById('lightbox');
                if (!lightbox.classList.contains('active')) return;

                switch(e.key) {
                    case 'Escape':
                        closeLightbox();
                        break;
                    case 'ArrowLeft':
                        if (currentPhotoIndex > 0) navigateLightbox(-1);
                        break;
                    case 'ArrowRight':
                        if (currentPhotoIndex < allPhotos.length - 1) navigateLightbox(1);
                        break;
                }
            });
        });
    </script>
</body>

</html>
