<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sydney - December 14-16 - Australia Adventure</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <a href="index.html" class="back-link">← Back to Trip Overview</a>

        <h1><span class="gradient-text">Sydney</span></h1>
        <p class="subtitle">December 14-16 • Return & An Unexpected Bonus Day</p>

        <div class="blog-content">
            <!-- Final Days Sydney -->
            <div class="day-section">
                <div class="day-header sydney-header">
                    <div class="day-title">Day 10-11: Return to Sydney</div>
                    <div class="day-subtitle">December 14-16 • An Unexpected Bonus Day</div>
                </div>
                <div class="day-content">
                    <div class="story-text">
                        <p>After an early departure from Freycinet, we drove back to Hobart for our flight to Sydney. The Qantas QF996 flight departed Hobart at 4:53 PM and arrived in Sydney at 6:32 PM - actually 13 minutes early. Security at Hobart Airport was the smoothest of the trip, and the Boeing 737-800 was comfortable for the 100-minute journey.</p>

                        <p>We checked into the Kimpton Margot Sydney for our final evening. The Sydney Opera House and Harbour Bridge, illuminated against the night sky, provided a perfect bookend to our Australian adventure. Walking through Circular Quay at sunset, watching the ferries crisscross the harbour and the city lights begin to twinkle, we couldn't help but feel grateful for this incredible journey.</p>
                    </div>

                    <div class="highlight-box" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <strong>Flight Cancellation:</strong> Our United flight UA100 scheduled for December 15th was cancelled when the incoming aircraft from Houston went technical and had to turn back mid-flight. We were rescheduled to depart on December 16th, giving us an unexpected bonus day in Sydney!
                    </div>

                    <div class="story-text">
                        <p><strong>Bonus Day - December 15th:</strong> What could have been a frustrating travel disruption turned into a delightful extra day to explore Sydney. We checked into the Sofitel Sydney Darling Harbour, enjoying the hotel's modern luxury and waterfront location. From Darling Harbour, we caught a ferry to Circular Quay, then continued on to Taronga Zoo, perched on the harbour's northern shore with spectacular views back to the city skyline. The ferry ride itself was a highlight, offering stunning perspectives of the Opera House and Harbour Bridge from the water. The zoo's collection of Australian wildlife - from koalas and kangaroos to Tasmanian devils - provided one last encounter with the continent's unique fauna.</p>

                        <p>After the zoo, we took the scenic route back, walking along the harbour foreshore from Circular Quay all the way to Darling Harbour. The waterfront promenade offered constantly changing views of the harbour, passing historic wharves, modern developments, and the iconic Sydney skyline. The walk ended back at Darling Harbour, where we enjoyed the vibrant waterfront precinct. The extra day allowed us to savor Sydney at a more relaxed pace, without the rush of a departure schedule.</p>

                        <p><strong>Departure Day - December 16th:</strong> The next morning, we headed to the airport and relaxed in the Priority Pass lounge before our rescheduled flight. United flight UA100 finally departed at 11:46 AM, and thanks to the time zone magic, we landed in Houston at 10:25 AM the same day - right on schedule after 15 hours and 39 minutes in the air. While the delay added a day to our journey, it gave us unexpected extra time in one of the world's most beautiful cities.</p>
                    </div>

                    <div class="photo-gallery">
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/001_203640.webp" alt="Sydney evening">
                            <div class="photo-caption">Sydney Harbour at twilight</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/004_202924.webp" alt="Harbour Bridge night">
                            <div class="photo-caption">The Harbour Bridge illuminated at night</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/009_133250.webp" alt="Sydney wildlife">
                            <div class="photo-caption">A wallaby at Taronga Zoo - one last wildlife encounter before departure</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/007_122328.webp" alt="Sydney final views">
                            <div class="photo-caption">Final harbour views before heading to the airport</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/011_192944.webp" alt="Sydney Chinatown">
                            <div class="photo-caption">The ornate gateway to Sydney's Chinatown - a vibrant district filled with Asian cuisine and culture</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/002_202924.webp" alt="Sydney night view">
                            <div class="photo-caption">Sydney illuminated at night</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/003_205147.webp" alt="Evening harbour">
                            <div class="photo-caption">The harbour glowing in evening light</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/005_205147.webp" alt="Night cityscape">
                            <div class="photo-caption">Sydney's skyline at night</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-14/Sydney/006_203447.webp" alt="Sydney evening views">
                            <div class="photo-caption">Evening views of the city</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/001_133250.webp" alt="Taronga Zoo">
                            <div class="photo-caption">Wildlife encounters at Taronga Zoo</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/002_122328.webp" alt="Harbour ferry">
                            <div class="photo-caption">Ferry ride across Sydney Harbour</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/003_130508.webp" alt="Harbour views">
                            <div class="photo-caption">Spectacular harbour perspectives</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/004_124608.webp" alt="Zoo visit">
                            <div class="photo-caption">Exploring Taronga Zoo with harbour backdrop</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/005_161421.webp" alt="Sydney afternoon">
                            <div class="photo-caption">Afternoon in Sydney</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/006_131002.webp" alt="Harbour walk">
                            <div class="photo-caption">Walking along the harbour foreshore</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/008_131002.webp" alt="Darling Harbour">
                            <div class="photo-caption">Darling Harbour waterfront</div>
                        </div>
                        <div class="photo-card">
                            <img src="Photos/2025-12-15/Sydney/010_130504.webp" alt="Final Sydney moments">
                            <div class="photo-caption">Savoring our final moments in Sydney</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <div class="lightbox-counter" id="lightbox-counter"></div>
            <button class="lightbox-nav lightbox-prev" id="lightbox-prev" onclick="navigateLightbox(-1)">&#8249;</button>
            <button class="lightbox-nav lightbox-next" id="lightbox-next" onclick="navigateLightbox(1)">&#8250;</button>

            <div class="lightbox-image-container">
                <img id="lightbox-image" class="lightbox-image" src="" alt="">
            </div>

            <div class="lightbox-info" id="lightbox-info">
                <h3 id="lightbox-title">Photo Details</h3>
                <div id="lightbox-metadata"></div>
            </div>
        </div>
    </div>

    <script>
        // Photo data with metadata paths
        const photoMetadata = {};
        let allPhotos = [];
        let currentPhotoIndex = 0;

        // Build photo list from the page
        function buildPhotoList() {
            const photoCards = document.querySelectorAll('.photo-card');
            allPhotos = Array.from(photoCards).map((card, index) => {
                const img = card.querySelector('img');
                const caption = card.querySelector('.photo-caption');
                return {
                    index: index,
                    src: img.src,
                    alt: img.alt,
                    caption: caption ? caption.textContent : '',
                    element: card
                };
            });
        }

        // Load metadata for a specific photo
        async function loadPhotoMetadata(photoSrc) {
            // Extract the path from the photo src
            const pathMatch = photoSrc.match(/Photos\/([\d-]+)\/([^\/]+)\/([^\/]+\.webp)/);
            if (!pathMatch) return null;

            const [, date, location, filename] = pathMatch;
            const metadataPath = `Photos/${date}/${location}/photo_metadata.json`;

            // Check cache first
            if (photoMetadata[metadataPath]) {
                const metadata = photoMetadata[metadataPath];
                return metadata.find(m => m.OptimizedImages?.WebPImage === filename);
            }

            // Load metadata
            try {
                const response = await fetch(metadataPath);
                if (!response.ok) return null;
                const data = await response.json();
                photoMetadata[metadataPath] = data;
                return data.find(m => m.OptimizedImages?.WebPImage === filename);
            } catch (error) {
                console.error('Error loading metadata:', error);
                return null;
            }
        }

        // Format date and time
        function formatDateTime(dateStr) {
            if (!dateStr) return '';
            const match = dateStr.match(/(\d{4}):(\d{2}):(\d{2}) (\d{2}):(\d{2}):(\d{2})/);
            if (!match) return dateStr;
            const [, year, month, day, hour, minute] = match;
            const date = new Date(year, month - 1, day, hour, minute);
            return date.toLocaleString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: 'numeric',
                minute: '2-digit'
            });
        }

        // Display photo in lightbox
        async function showLightbox(index) {
            currentPhotoIndex = index;
            const photo = allPhotos[index];
            const lightbox = document.getElementById('lightbox');
            const image = document.getElementById('lightbox-image');
            const counter = document.getElementById('lightbox-counter');
            const metadataDiv = document.getElementById('lightbox-metadata');
            const title = document.getElementById('lightbox-title');

            // Show lightbox
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Set image
            image.src = photo.src;
            image.alt = photo.alt;

            // Set counter
            counter.textContent = `${index + 1} / ${allPhotos.length}`;

            // Update navigation buttons
            updateNavButtons();

            // Set title
            title.textContent = photo.caption || 'Photo Details';

            // Load and display metadata
            metadataDiv.innerHTML = '<p style="color: var(--text-muted); font-style: italic;">Loading details...</p>';

            const metadata = await loadPhotoMetadata(photo.src);

            if (metadata) {
                let html = '';

                // Location Section
                if (metadata.City || metadata.State || metadata.DisplayName) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Location</h4>';
                    if (metadata.City) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">City</span>
                            <span class="lightbox-info-value">${metadata.City}</span>
                        </div>`;
                    }
                    if (metadata.State) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">State</span>
                            <span class="lightbox-info-value">${metadata.State}</span>
                        </div>`;
                    }
                    if (metadata.DisplayName) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Place</span>
                            <span class="lightbox-info-value" style="max-width: 200px;">${metadata.DisplayName.split(',').slice(0, 2).join(',')}</span>
                        </div>`;
                    }
                    if (metadata.Latitude && metadata.Longitude) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Coordinates</span>
                            <span class="lightbox-info-value">${metadata.Latitude.toFixed(4)}, ${metadata.Longitude.toFixed(4)}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Date & Time Section
                if (metadata.DateTaken) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Date & Time</h4>';
                    html += `<div class="lightbox-info-item">
                        <span class="lightbox-info-label">Taken</span>
                        <span class="lightbox-info-value">${formatDateTime(metadata.DateTaken)}</span>
                    </div>`;
                    html += '</div>';
                }

                // Camera Section
                if (metadata.CameraMake || metadata.CameraModel) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Camera</h4>';
                    if (metadata.CameraModel) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Model</span>
                            <span class="lightbox-info-value">${metadata.CameraModel}</span>
                        </div>`;
                    }
                    if (metadata.LensModel && !metadata.LensModel.includes(metadata.CameraModel)) {
                        const lensShort = metadata.LensModel.split(' ').slice(-2).join(' ');
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Lens</span>
                            <span class="lightbox-info-value">${lensShort}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                // Settings Section
                if (metadata.ISO || metadata.ExposureTime || metadata.FNumber || metadata.FocalLength) {
                    html += '<div class="lightbox-info-section">';
                    html += '<h4>Settings</h4>';
                    if (metadata.FocalLength) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Focal Length</span>
                            <span class="lightbox-info-value">${metadata.FocalLength}</span>
                        </div>`;
                    }
                    if (metadata.FNumber) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Aperture</span>
                            <span class="lightbox-info-value">${metadata.FNumber}</span>
                        </div>`;
                    }
                    if (metadata.ExposureTime) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">Shutter</span>
                            <span class="lightbox-info-value">${metadata.ExposureTime}</span>
                        </div>`;
                    }
                    if (metadata.ISO) {
                        html += `<div class="lightbox-info-item">
                            <span class="lightbox-info-label">ISO</span>
                            <span class="lightbox-info-value">${metadata.ISO}</span>
                        </div>`;
                    }
                    html += '</div>';
                }

                metadataDiv.innerHTML = html;
            } else {
                metadataDiv.innerHTML = `
                    <div class="lightbox-info-section">
                        <p style="color: var(--text-muted); font-style: italic;">
                            ${photo.caption}
                        </p>
                    </div>
                `;
            }
        }

        // Close lightbox
        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Navigate between photos
        function navigateLightbox(direction) {
            const newIndex = currentPhotoIndex + direction;
            if (newIndex >= 0 && newIndex < allPhotos.length) {
                showLightbox(newIndex);
            }
        }

        // Update navigation button states
        function updateNavButtons() {
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');

            if (currentPhotoIndex === 0) {
                prevBtn.classList.add('disabled');
            } else {
                prevBtn.classList.remove('disabled');
            }

            if (currentPhotoIndex === allPhotos.length - 1) {
                nextBtn.classList.add('disabled');
            } else {
                nextBtn.classList.remove('disabled');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            buildPhotoList();

            // Add click handlers to all photo cards
            allPhotos.forEach((photo, index) => {
                photo.element.addEventListener('click', () => showLightbox(index));
            });

            // Close lightbox when clicking outside
            document.getElementById('lightbox').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeLightbox();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                const lightbox = document.getElementById('lightbox');
                if (!lightbox.classList.contains('active')) return;

                switch(e.key) {
                    case 'Escape':
                        closeLightbox();
                        break;
                    case 'ArrowLeft':
                        if (currentPhotoIndex > 0) navigateLightbox(-1);
                        break;
                    case 'ArrowRight':
                        if (currentPhotoIndex < allPhotos.length - 1) navigateLightbox(1);
                        break;
                }
            });
        });
    </script>
</body>

</html>
